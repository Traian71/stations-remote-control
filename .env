# ============================================
# SPC Platform - Docker Compose Configuration
# ============================================
# Copy this file and configure for your environment
# All three services (backend, gateway, frontend) use these settings

# ============================================
# SERVICE PORTS
# ============================================
BACKEND_PORT=8000
GATEWAY_PORT=8888
FRONTEND_PORT=3000

# ============================================
# APPLICATION SETTINGS
# ============================================
DEBUG=True

# ============================================
# DATABASE CONFIGURATION (External MySQL)
# ============================================
# Your existing MySQL server (NOT containerized)
DB_HOST=192.168.100.125
DB_PORT=3306
DB_USER=Traian
DB_PASSWORD=Traian14
DB_NAME=db_cpms3

# ============================================
# SECURITY
# ============================================
# Generate new keys for production:
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=dev-secret-key-change-in-production-abc123xyz789
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# AES-128 Encryption Key (32 hex chars = 16 bytes)
# Generate: python -c "import secrets; print(secrets.token_bytes(16).hex())"
ENCRYPTION_KEY=9696865e1501c40197e518db3c850e65

# ============================================
# CORS CONFIGURATION
# ============================================
# Add all IPs/domains that need to access the backend
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://192.168.0.109:3000,http://192.168.0.109:3001,http://46.97.194.215:3000,http://46.97.194.215:3001

# ============================================
# FRONTEND CONFIGURATION
# ============================================
# URL where frontend can reach backend (for server-side calls)
# Use 'http://backend:8000' for internal Docker network
# Or use external IP for browser-side calls
NEXT_PUBLIC_API_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# ============================================
# EMAIL NOTIFICATIONS
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=infoprotectiecatodica@gmail.com
SMTP_PASSWORD=pbts lmty qfna hyxa
SMTP_FROM_EMAIL=infoprotectiecatodica@gmail.com
SMTP_FROM_NAME=CathodicProtectionAppAlarm
SMTP_USE_TLS=True

# ============================================
# GATEWAY SETTINGS
# ============================================
# Gateway listens on this port for device connections
GATEWAY_HOST=0.0.0.0
